<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>GNUAPL: Thread_context Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">GNUAPL
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classThread__context.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="#pro-static-attribs">Static Protected Attributes</a> &#124;
<a href="classThread__context-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Thread_context Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>the context for one parallel execution thread  
 <a href="classThread__context.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="Thread__context_8hh_source.html">Thread_context.hh</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for Thread_context:</div>
<div class="dyncontent">
<div class="center"><img src="classThread__context__coll__graph.png" border="0" usemap="#Thread__context_coll__map" alt="Collaboration graph"/></div>
<map name="Thread__context_coll__map" id="Thread__context_coll__map">
<area shape="rect" id="node2" href="classParallel__job__list.html" title="Parallel_job_list\&lt;\l PJob_scalar_AB, false \&gt;" alt="" coords="1031,218,1201,259"/>
<area shape="rect" id="node3" href="classParallel__job__list__base.html" title="a number of jobs, where each job can be executed in parallel " alt="" coords="761,172,909,199"/>
<area shape="rect" id="node21" href="classParallel__job__list.html" title="Parallel_job_list\&lt;\l PJob_scalar_B, false \&gt;" alt="" coords="1035,153,1197,194"/>
<area shape="rect" id="node4" href="classPJob__scalar__AB.html" title="one dyadic scalar job " alt="" coords="776,227,895,253"/>
<area shape="rect" id="node5" href="classCell.html" title="The base class for all Cells. " alt="" coords="298,281,343,308"/>
<area shape="rect" id="node6" href="unionCell_1_1SomeValue.html" title="A union containing all possible cell values for the different Cell types. " alt="" coords="1313,387,1433,413"/>
<area shape="rect" id="node8" href="classValue.html" title="An APL Value (essentially a Shape and a ravel) " alt="" coords="570,447,625,473"/>
<area shape="rect" id="node22" href="classPJob__scalar__B.html" title="one monadic scalar job " alt="" coords="780,119,891,145"/>
<area shape="rect" id="node7" href="structCell_1_1SomeValue_1_1__pval.html" title="a pointer to, and the owner of, a nested APL (sub&#45;) value " alt="" coords="1037,461,1195,488"/>
<area shape="rect" id="node12" href="classValue__P__Base.html" title="A Value smart * and access functions (except constructors) " alt="" coords="781,523,889,549"/>
<area shape="rect" id="node9" href="classDynamicObject.html" title="A Value or an IndexExpr. " alt="" coords="265,415,377,441"/>
<area shape="rect" id="node10" href="struct__deleted__value.html" title="a linked list of deleted values " alt="" coords="266,504,375,531"/>
<area shape="rect" id="node11" href="classShape.html" title="the shape of an APL value " alt="" coords="291,555,350,581"/>
<area shape="rect" id="node13" href="structCell_1_1SomeValue_1_1__fval.html" title="&lt; for FloatCell " alt="" coords="1038,547,1194,573"/>
<area shape="rect" id="node14" href="unionCell_1_1SomeValue_1_1__fval_1_1__flt__num.html" title="either a floating point value, or the denominator of a quotient " alt="" coords="757,574,913,615"/>
<area shape="rect" id="node15" href="classPrimitiveFunction.html" title="Base class for all internal functions of the interpreter. " alt="" coords="536,33,659,60"/>
<area shape="rect" id="node16" href="classFunction.html" title="Base class for all APL functions and operators (system or defined) " alt="" coords="285,5,357,32"/>
<area shape="rect" id="node17" href="classNamedObject.html" title="A user&#45;defined variable or function. " alt="" coords="14,5,117,32"/>
<area shape="rect" id="node18" href="classCellFunctionStatistics.html" title="Performance counters for one cell level function. " alt="" coords="245,56,396,83"/>
<area shape="rect" id="node19" href="classStatistics.html" title="Base class for different kinds of statistics. " alt="" coords="27,107,104,133"/>
<area shape="rect" id="node20" href="classStatistics__record.html" title="one statistics for computing the mean and the variance of samples " alt="" coords="5,56,125,83"/>
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a8295f048b02f1982c35655f9866d56e4"><td class="memItemLeft" align="right" valign="top"><a id="a8295f048b02f1982c35655f9866d56e4"></a>
typedef void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classThread__context.html#a8295f048b02f1982c35655f9866d56e4">PoolFunction</a>(<a class="el" href="classThread__context.html">Thread_context</a> &amp;ctx)</td></tr>
<tr class="memdesc:a8295f048b02f1982c35655f9866d56e4"><td class="mdescLeft">&#160;</td><td class="mdescRight">a function that is executed by the pool (i.e. in parallel) <br /></td></tr>
<tr class="separator:a8295f048b02f1982c35655f9866d56e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a946d114f7bade26ad81f48566f6899e4"><td class="memItemLeft" align="right" valign="top"><a id="a946d114f7bade26ad81f48566f6899e4"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classThread__context.html#a946d114f7bade26ad81f48566f6899e4">Thread_context</a> ()</td></tr>
<tr class="memdesc:a946d114f7bade26ad81f48566f6899e4"><td class="mdescLeft">&#160;</td><td class="mdescRight">constructor <br /></td></tr>
<tr class="separator:a946d114f7bade26ad81f48566f6899e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c46b447cd0264e20bd791f44866212b"><td class="memItemLeft" align="right" valign="top"><a id="a7c46b447cd0264e20bd791f44866212b"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classThread__context.html#a7c46b447cd0264e20bd791f44866212b">~Thread_context</a> ()</td></tr>
<tr class="memdesc:a7c46b447cd0264e20bd791f44866212b"><td class="mdescLeft">&#160;</td><td class="mdescRight">destructor <br /></td></tr>
<tr class="separator:a7c46b447cd0264e20bd791f44866212b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba6ab97ae2a6542738f93831bd73fa14"><td class="memItemLeft" align="right" valign="top"><a id="aba6ab97ae2a6542738f93831bd73fa14"></a>
CoreNumber&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classThread__context.html#aba6ab97ae2a6542738f93831bd73fa14">get_N</a> () const</td></tr>
<tr class="memdesc:aba6ab97ae2a6542738f93831bd73fa14"><td class="mdescLeft">&#160;</td><td class="mdescRight">return the number of the core executing <b>this</b> context <br /></td></tr>
<tr class="separator:aba6ab97ae2a6542738f93831bd73fa14"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20aaeaa16df5aaff472886710c70abc1"><td class="memItemLeft" align="right" valign="top"><a id="a20aaeaa16df5aaff472886710c70abc1"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classThread__context.html#a20aaeaa16df5aaff472886710c70abc1">PF_fork</a> ()</td></tr>
<tr class="memdesc:a20aaeaa16df5aaff472886710c70abc1"><td class="mdescLeft">&#160;</td><td class="mdescRight">start parallel execution of work in a worker <br /></td></tr>
<tr class="separator:a20aaeaa16df5aaff472886710c70abc1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51a35755b357c769f56bcad57a408734"><td class="memItemLeft" align="right" valign="top"><a id="a51a35755b357c769f56bcad57a408734"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classThread__context.html#a51a35755b357c769f56bcad57a408734">PF_join</a> ()</td></tr>
<tr class="memdesc:a51a35755b357c769f56bcad57a408734"><td class="mdescLeft">&#160;</td><td class="mdescRight">end parallel execution of work in a worker <br /></td></tr>
<tr class="separator:a51a35755b357c769f56bcad57a408734"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab5c1f95ee686270b4ac6e1806a5bd23f"><td class="memItemLeft" align="right" valign="top"><a id="ab5c1f95ee686270b4ac6e1806a5bd23f"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classThread__context.html#ab5c1f95ee686270b4ac6e1806a5bd23f">bind_to_cpu</a> (CPU_Number cpu, bool logit)</td></tr>
<tr class="memdesc:ab5c1f95ee686270b4ac6e1806a5bd23f"><td class="mdescLeft">&#160;</td><td class="mdescRight">bind thread to core <br /></td></tr>
<tr class="separator:ab5c1f95ee686270b4ac6e1806a5bd23f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc73bb9ae1ecb7b10830bd073201f7ea"><td class="memItemLeft" align="right" valign="top"><a id="adc73bb9ae1ecb7b10830bd073201f7ea"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classThread__context.html#adc73bb9ae1ecb7b10830bd073201f7ea">print</a> (ostream &amp;out) const</td></tr>
<tr class="memdesc:adc73bb9ae1ecb7b10830bd073201f7ea"><td class="mdescLeft">&#160;</td><td class="mdescRight">print this TaskTree node <br /></td></tr>
<tr class="separator:adc73bb9ae1ecb7b10830bd073201f7ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a994dd1fef316d70072e8757310671aed"><td class="memItemLeft" align="right" valign="top"><a id="a994dd1fef316d70072e8757310671aed"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classThread__context.html#a994dd1fef316d70072e8757310671aed">M_lock_pool</a> ()</td></tr>
<tr class="memdesc:a994dd1fef316d70072e8757310671aed"><td class="mdescLeft">&#160;</td><td class="mdescRight">make all workers lock on pool_sema <br /></td></tr>
<tr class="separator:a994dd1fef316d70072e8757310671aed"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:ad6131c6d7c657ae4fbf75a71db9c574a"><td class="memItemLeft" align="right" valign="top"><a id="ad6131c6d7c657ae4fbf75a71db9c574a"></a>
static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classThread__context.html#ad6131c6d7c657ae4fbf75a71db9c574a">M_fork</a> (const char *jname)</td></tr>
<tr class="memdesc:ad6131c6d7c657ae4fbf75a71db9c574a"><td class="mdescLeft">&#160;</td><td class="mdescRight">start parallel execution of work at the master <br /></td></tr>
<tr class="separator:ad6131c6d7c657ae4fbf75a71db9c574a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee8c70aa8c5f5e771db87b9d90617bfb"><td class="memItemLeft" align="right" valign="top"><a id="aee8c70aa8c5f5e771db87b9d90617bfb"></a>
static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classThread__context.html#aee8c70aa8c5f5e771db87b9d90617bfb">M_join</a> ()</td></tr>
<tr class="memdesc:aee8c70aa8c5f5e771db87b9d90617bfb"><td class="mdescLeft">&#160;</td><td class="mdescRight">end parallel execution of work at the master <br /></td></tr>
<tr class="separator:aee8c70aa8c5f5e771db87b9d90617bfb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a770b7101581894235605003726ebdc62"><td class="memItemLeft" align="right" valign="top"><a id="a770b7101581894235605003726ebdc62"></a>
static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classThread__context.html#a770b7101581894235605003726ebdc62">print_all</a> (ostream &amp;out)</td></tr>
<tr class="memdesc:a770b7101581894235605003726ebdc62"><td class="mdescLeft">&#160;</td><td class="mdescRight">print all TaskTree nodes <br /></td></tr>
<tr class="separator:a770b7101581894235605003726ebdc62"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a980dc6d5a2cef07422e21447c5925899"><td class="memItemLeft" align="right" valign="top"><a id="a980dc6d5a2cef07422e21447c5925899"></a>
static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classThread__context.html#a980dc6d5a2cef07422e21447c5925899">print_mileages</a> (ostream &amp;out, const char *loc)</td></tr>
<tr class="memdesc:a980dc6d5a2cef07422e21447c5925899"><td class="mdescLeft">&#160;</td><td class="mdescRight">print all mileages nodes <br /></td></tr>
<tr class="separator:a980dc6d5a2cef07422e21447c5925899"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd854477bd87d3e80b3786ac2a7d5d9f"><td class="memItemLeft" align="right" valign="top"><a id="afd854477bd87d3e80b3786ac2a7d5d9f"></a>
static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classThread__context.html#afd854477bd87d3e80b3786ac2a7d5d9f">init_parallel</a> (CoreCount thread_count, bool logit)</td></tr>
<tr class="memdesc:afd854477bd87d3e80b3786ac2a7d5d9f"><td class="mdescLeft">&#160;</td><td class="mdescRight">initialize all thread contexts (set all but N and thread) <br /></td></tr>
<tr class="separator:afd854477bd87d3e80b3786ac2a7d5d9f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1965a1f7a7d1e9da522a55148c09bcaa"><td class="memItemLeft" align="right" valign="top"><a id="a1965a1f7a7d1e9da522a55148c09bcaa"></a>
static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classThread__context.html#a1965a1f7a7d1e9da522a55148c09bcaa">init_sequential</a> (bool logit)</td></tr>
<tr class="memdesc:a1965a1f7a7d1e9da522a55148c09bcaa"><td class="mdescLeft">&#160;</td><td class="mdescRight">initialize all thread contexts (set all but N and thread) <br /></td></tr>
<tr class="separator:a1965a1f7a7d1e9da522a55148c09bcaa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe4280ff16a15a70e0c903bb2db70c87"><td class="memItemLeft" align="right" valign="top"><a id="abe4280ff16a15a70e0c903bb2db70c87"></a>
static <a class="el" href="classThread__context.html">Thread_context</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classThread__context.html#abe4280ff16a15a70e0c903bb2db70c87">get_context</a> (CoreNumber n)</td></tr>
<tr class="memdesc:abe4280ff16a15a70e0c903bb2db70c87"><td class="mdescLeft">&#160;</td><td class="mdescRight">return the context for core <b>n</b> <br /></td></tr>
<tr class="separator:abe4280ff16a15a70e0c903bb2db70c87"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aadea40f94c3086eb73d86ce866b6e71d"><td class="memItemLeft" align="right" valign="top"><a id="aadea40f94c3086eb73d86ce866b6e71d"></a>
static <a class="el" href="classThread__context.html">Thread_context</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classThread__context.html#aadea40f94c3086eb73d86ce866b6e71d">get_master</a> ()</td></tr>
<tr class="memdesc:aadea40f94c3086eb73d86ce866b6e71d"><td class="mdescLeft">&#160;</td><td class="mdescRight">return the context of the master <br /></td></tr>
<tr class="separator:aadea40f94c3086eb73d86ce866b6e71d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4360395b00f2c003ab2a09fbe7635b7b"><td class="memItemLeft" align="right" valign="top"><a id="a4360395b00f2c003ab2a09fbe7635b7b"></a>
static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classThread__context.html#a4360395b00f2c003ab2a09fbe7635b7b">kill_pool</a> ()</td></tr>
<tr class="memdesc:a4360395b00f2c003ab2a09fbe7635b7b"><td class="mdescLeft">&#160;</td><td class="mdescRight">terminate all worker threads <br /></td></tr>
<tr class="separator:a4360395b00f2c003ab2a09fbe7635b7b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ef1d4db160a21f5616530cf737e4b18"><td class="memItemLeft" align="right" valign="top"><a id="a8ef1d4db160a21f5616530cf737e4b18"></a>
static CoreCount&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classThread__context.html#a8ef1d4db160a21f5616530cf737e4b18">get_active_core_count</a> ()</td></tr>
<tr class="memdesc:a8ef1d4db160a21f5616530cf737e4b18"><td class="mdescLeft">&#160;</td><td class="mdescRight">number of currently used cores <br /></td></tr>
<tr class="separator:a8ef1d4db160a21f5616530cf737e4b18"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9da7115c28c4372c40d393c8046bda22"><td class="memItemLeft" align="right" valign="top"><a id="a9da7115c28c4372c40d393c8046bda22"></a>
static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classThread__context.html#a9da7115c28c4372c40d393c8046bda22">set_active_core_count</a> (CoreCount new_count)</td></tr>
<tr class="memdesc:a9da7115c28c4372c40d393c8046bda22"><td class="mdescLeft">&#160;</td><td class="mdescRight">set the number of currently used cores <br /></td></tr>
<tr class="separator:a9da7115c28c4372c40d393c8046bda22"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d1afd3b11805b10245fff9bd67b8fa2"><td class="memItemLeft" align="right" valign="top"><a id="a4d1afd3b11805b10245fff9bd67b8fa2"></a>
static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classThread__context.html#a4d1afd3b11805b10245fff9bd67b8fa2">cleanup</a> ()</td></tr>
<tr class="memdesc:a4d1afd3b11805b10245fff9bd67b8fa2"><td class="mdescLeft">&#160;</td><td class="mdescRight">remove all thread contexts (when the APL interpreter exits) <br /></td></tr>
<tr class="separator:a4d1afd3b11805b10245fff9bd67b8fa2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:afb9647c06b567957fc3879ddca541a86"><td class="memItemLeft" align="right" valign="top"><a id="afb9647c06b567957fc3879ddca541a86"></a>
pthread_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classThread__context.html#afb9647c06b567957fc3879ddca541a86">thread</a></td></tr>
<tr class="memdesc:afb9647c06b567957fc3879ddca541a86"><td class="mdescLeft">&#160;</td><td class="mdescRight">the thread executing this context <br /></td></tr>
<tr class="separator:afb9647c06b567957fc3879ddca541a86"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d392ea066afa0ea05ee4ea5229e316b"><td class="memItemLeft" align="right" valign="top"><a id="a6d392ea066afa0ea05ee4ea5229e316b"></a>
volatile char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classThread__context.html#a6d392ea066afa0ea05ee4ea5229e316b">job_number</a></td></tr>
<tr class="memdesc:a6d392ea066afa0ea05ee4ea5229e316b"><td class="mdescLeft">&#160;</td><td class="mdescRight">a counter controlling the start of parallel jobs <br /></td></tr>
<tr class="separator:a6d392ea066afa0ea05ee4ea5229e316b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade5c2acd8d562d2da020a7a7df2c4a87"><td class="memItemLeft" align="right" valign="top"><a id="ade5c2acd8d562d2da020a7a7df2c4a87"></a>
const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classThread__context.html#ade5c2acd8d562d2da020a7a7df2c4a87">job_name</a></td></tr>
<tr class="memdesc:ade5c2acd8d562d2da020a7a7df2c4a87"><td class="mdescLeft">&#160;</td><td class="mdescRight">return the name of this context <br /></td></tr>
<tr class="separator:ade5c2acd8d562d2da020a7a7df2c4a87"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a65cc64eecb7846d78ee6e88da79a6922"><td class="memItemLeft" align="right" valign="top"><a id="a65cc64eecb7846d78ee6e88da79a6922"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classThread__context.html#a65cc64eecb7846d78ee6e88da79a6922">do_join</a></td></tr>
<tr class="memdesc:a65cc64eecb7846d78ee6e88da79a6922"><td class="mdescLeft">&#160;</td><td class="mdescRight">true if this context shall join (i.e. is not the master) <br /></td></tr>
<tr class="separator:a65cc64eecb7846d78ee6e88da79a6922"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48484ed0cb47ef7ca35688a943803363"><td class="memItemLeft" align="right" valign="top"><a id="a48484ed0cb47ef7ca35688a943803363"></a>
sem_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classThread__context.html#a48484ed0cb47ef7ca35688a943803363">pool_sema</a></td></tr>
<tr class="memdesc:a48484ed0cb47ef7ca35688a943803363"><td class="mdescLeft">&#160;</td><td class="mdescRight">a semaphore to block this context <br /></td></tr>
<tr class="separator:a48484ed0cb47ef7ca35688a943803363"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a914ad4af8e356c25ec65896c46b88fb2"><td class="memItemLeft" align="right" valign="top"><a id="a914ad4af8e356c25ec65896c46b88fb2"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classThread__context.html#a914ad4af8e356c25ec65896c46b88fb2">blocked</a></td></tr>
<tr class="memdesc:a914ad4af8e356c25ec65896c46b88fb2"><td class="mdescLeft">&#160;</td><td class="mdescRight">true if blocked on pool_sema <br /></td></tr>
<tr class="separator:a914ad4af8e356c25ec65896c46b88fb2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66e31e55eba91a5f90db7dc374ab02b1"><td class="memItemLeft" align="right" valign="top"><a id="a66e31e55eba91a5f90db7dc374ab02b1"></a>
<a class="el" href="classParallel__job__list.html">Parallel_job_list</a>&lt; <a class="el" href="classPJob__scalar__B.html">PJob_scalar_B</a>, false &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classThread__context.html#a66e31e55eba91a5f90db7dc374ab02b1">joblist_B</a></td></tr>
<tr class="memdesc:a66e31e55eba91a5f90db7dc374ab02b1"><td class="mdescLeft">&#160;</td><td class="mdescRight">a list of monadic PJobs created by this core <br /></td></tr>
<tr class="separator:a66e31e55eba91a5f90db7dc374ab02b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ac3eb72aed17b1b305ec080783bbb24"><td class="memItemLeft" align="right" valign="top"><a id="a1ac3eb72aed17b1b305ec080783bbb24"></a>
<a class="el" href="classParallel__job__list.html">Parallel_job_list</a>&lt; <a class="el" href="classPJob__scalar__AB.html">PJob_scalar_AB</a>, false &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classThread__context.html#a1ac3eb72aed17b1b305ec080783bbb24">joblist_AB</a></td></tr>
<tr class="memdesc:a1ac3eb72aed17b1b305ec080783bbb24"><td class="mdescLeft">&#160;</td><td class="mdescRight">a list of dyadic PJobs created by this core <br /></td></tr>
<tr class="separator:a1ac3eb72aed17b1b305ec080783bbb24"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:af85da5a72b7dae1ff74351c9b17e4a90"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classThread__context.html#a8295f048b02f1982c35655f9866d56e4">PoolFunction</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classThread__context.html#af85da5a72b7dae1ff74351c9b17e4a90">do_work</a></td></tr>
<tr class="memdesc:af85da5a72b7dae1ff74351c9b17e4a90"><td class="mdescLeft">&#160;</td><td class="mdescRight">the next work to be done  <a href="#af85da5a72b7dae1ff74351c9b17e4a90">More...</a><br /></td></tr>
<tr class="separator:af85da5a72b7dae1ff74351c9b17e4a90"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13497fa1bf0a3e80f55fda6fee76dfb5"><td class="memItemLeft" align="right" valign="top"><a id="a13497fa1bf0a3e80f55fda6fee76dfb5"></a>
static <a class="el" href="classThread__context.html#a8295f048b02f1982c35655f9866d56e4">PoolFunction</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classThread__context.html#a13497fa1bf0a3e80f55fda6fee76dfb5">PF_no_work</a></td></tr>
<tr class="memdesc:a13497fa1bf0a3e80f55fda6fee76dfb5"><td class="mdescLeft">&#160;</td><td class="mdescRight">a thread-function that should not be called <br /></td></tr>
<tr class="separator:a13497fa1bf0a3e80f55fda6fee76dfb5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a857fdc58f9755ebd5fdaf497184ef356"><td class="memItemLeft" align="right" valign="top"><a id="a857fdc58f9755ebd5fdaf497184ef356"></a>
static <a class="el" href="classThread__context.html#a8295f048b02f1982c35655f9866d56e4">PoolFunction</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classThread__context.html#a857fdc58f9755ebd5fdaf497184ef356">PF_lock_unlock_pool</a></td></tr>
<tr class="memdesc:a857fdc58f9755ebd5fdaf497184ef356"><td class="mdescLeft">&#160;</td><td class="mdescRight">block/unblock on the pool semaphore <br /></td></tr>
<tr class="separator:a857fdc58f9755ebd5fdaf497184ef356"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a06a054fa3fadfda7020d64748371799e"><td class="memItemLeft" align="right" valign="top"><a id="a06a054fa3fadfda7020d64748371799e"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classThread__context.html#a06a054fa3fadfda7020d64748371799e">init_entry</a> (CoreNumber n)</td></tr>
<tr class="memdesc:a06a054fa3fadfda7020d64748371799e"><td class="mdescLeft">&#160;</td><td class="mdescRight">initialize thread_contexts[n] <br /></td></tr>
<tr class="separator:a06a054fa3fadfda7020d64748371799e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:aab98be812d18ddfb66815b1d901267fc"><td class="memItemLeft" align="right" valign="top"><a id="aab98be812d18ddfb66815b1d901267fc"></a>
CoreNumber&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classThread__context.html#aab98be812d18ddfb66815b1d901267fc">N</a></td></tr>
<tr class="memdesc:aab98be812d18ddfb66815b1d901267fc"><td class="mdescLeft">&#160;</td><td class="mdescRight">thread number (0 = interpreter, 1... worker threads <br /></td></tr>
<tr class="separator:aab98be812d18ddfb66815b1d901267fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9cb4a39bfcca2b3cf26d34db960cb95"><td class="memItemLeft" align="right" valign="top"><a id="ae9cb4a39bfcca2b3cf26d34db960cb95"></a>
CPU_Number&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classThread__context.html#ae9cb4a39bfcca2b3cf26d34db960cb95">CPU</a></td></tr>
<tr class="memdesc:ae9cb4a39bfcca2b3cf26d34db960cb95"><td class="mdescLeft">&#160;</td><td class="mdescRight">the cpu core to which this thread is bound <br /></td></tr>
<tr class="separator:ae9cb4a39bfcca2b3cf26d34db960cb95"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-static-attribs"></a>
Static Protected Attributes</h2></td></tr>
<tr class="memitem:aa08141073f8f80da4b96550c6a45e5b6"><td class="memItemLeft" align="right" valign="top"><a id="aa08141073f8f80da4b96550c6a45e5b6"></a>
static <a class="el" href="classThread__context.html">Thread_context</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classThread__context.html#aa08141073f8f80da4b96550c6a45e5b6">thread_contexts</a> = 0</td></tr>
<tr class="memdesc:aa08141073f8f80da4b96550c6a45e5b6"><td class="mdescLeft">&#160;</td><td class="mdescRight">all thread contexts <br /></td></tr>
<tr class="separator:aa08141073f8f80da4b96550c6a45e5b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a459a280d68c9d9291e922bd313cca882"><td class="memItemLeft" align="right" valign="top"><a id="a459a280d68c9d9291e922bd313cca882"></a>
static CoreCount&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classThread__context.html#a459a280d68c9d9291e922bd313cca882">thread_contexts_count</a> = CCNT_0</td></tr>
<tr class="memdesc:a459a280d68c9d9291e922bd313cca882"><td class="mdescLeft">&#160;</td><td class="mdescRight">the number of thread contexts <br /></td></tr>
<tr class="separator:a459a280d68c9d9291e922bd313cca882"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91a45f3082cc3e2a4e57aa7da6a0ec70"><td class="memItemLeft" align="right" valign="top"><a id="a91a45f3082cc3e2a4e57aa7da6a0ec70"></a>
static volatile _Atomic_word&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classThread__context.html#a91a45f3082cc3e2a4e57aa7da6a0ec70">busy_worker_count</a> = 0</td></tr>
<tr class="memdesc:a91a45f3082cc3e2a4e57aa7da6a0ec70"><td class="mdescLeft">&#160;</td><td class="mdescRight">the number of unfinished workers (excluding master) <br /></td></tr>
<tr class="separator:a91a45f3082cc3e2a4e57aa7da6a0ec70"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a33ccdbb8dd1cc7bd8f233c697d03a2f3"><td class="memItemLeft" align="right" valign="top"><a id="a33ccdbb8dd1cc7bd8f233c697d03a2f3"></a>
static CoreCount&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classThread__context.html#a33ccdbb8dd1cc7bd8f233c697d03a2f3">active_core_count</a> = CCNT_1</td></tr>
<tr class="memdesc:a33ccdbb8dd1cc7bd8f233c697d03a2f3"><td class="mdescLeft">&#160;</td><td class="mdescRight">the number of cores currently used <br /></td></tr>
<tr class="separator:a33ccdbb8dd1cc7bd8f233c697d03a2f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>the context for one parallel execution thread </p>
<p>Multi-core GNU APL uses a pool of threads numbered 0, 1, ... core_count()-1</p>
<p>(master-) thread 0 is the interpreter (which also performs parallel work), while (worker-) threads 1 ... are only activated when some parallel work is available.</p>
<p>The worker threads 1... are either working, or busy-waiting for work, or blocked on a semaphore: </p><pre class="fragment">   init
    ↓
 blocked ←→ busy-waiting ←→ working
</pre><p>The transitions </p><pre class="fragment">blocked ←→ busy-waiting
</pre><p>occur before and after the master thread waits for terminal input or when the number of cores is being changed (with ⎕SYL[26;2]). The workers are blocked while the master thread waits for terminal input. The reason for this is that a busy-waiting worker is consuming power for no reason (to the extent that the CPU fan turns on even though there is no useful work in sight).</p>
<p>The transitions </p><pre class="fragment">  busy-waiting ←→ working
</pre><p>occurs when the execution of APL primitives, primarily scalar functions, suggests to execute in parallel (i.e. if the vectors involved are sufficiently long). </p>

<p class="definition">Definition at line <a class="el" href="Thread__context_8hh_source.html#l00062">62</a> of file <a class="el" href="Thread__context_8hh_source.html">Thread_context.hh</a>.</p>
</div><h2 class="groupheader">Member Data Documentation</h2>
<a id="af85da5a72b7dae1ff74351c9b17e4a90"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af85da5a72b7dae1ff74351c9b17e4a90">&#9670;&nbsp;</a></span>do_work</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classThread__context.html#a8295f048b02f1982c35655f9866d56e4">Thread_context::PoolFunction</a> * Thread_context::do_work</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">=</div><div class="line">    &amp;<a class="code" href="classThread__context.html#a13497fa1bf0a3e80f55fda6fee76dfb5">Thread_context::PF_no_work</a></div></div><!-- fragment -->
<p>the next work to be done </p>

<p class="definition">Definition at line <a class="el" href="Thread__context_8hh_source.html#l00145">145</a> of file <a class="el" href="Thread__context_8hh_source.html">Thread_context.hh</a>.</p>

<p class="reference">Referenced by <a class="el" href="ScalarFunction_8cc_source.html#l00342">ScalarFunction::do_scalar_AB()</a>, <a class="el" href="ScalarFunction_8cc_source.html#l00143">ScalarFunction::do_scalar_B()</a>, <a class="el" href="Thread__context_8cc_source.html#l00108">M_lock_pool()</a>, <a class="el" href="Bif__OPER2__INNER_8cc_source.html#l00188">Bif_OPER2_INNER::scalar_inner_product()</a>, <a class="el" href="Bif__OPER2__OUTER_8cc_source.html#l00144">Bif_OPER2_OUTER::scalar_outer_product()</a>, and <a class="el" href="Parallel_8cc_source.html#l00352">Parallel::worker_main()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/<a class="el" href="Thread__context_8hh_source.html">Thread_context.hh</a></li>
<li>src/<a class="el" href="Thread__context_8cc_source.html">Thread_context.cc</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="classThread__context.html">Thread_context</a></li>
    <li class="footer">Generated on Sun Aug 9 2020 16:43:42 for GNUAPL by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
